{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gusta\\\\Desktop\\\\Code\\\\Movie Finder\\\\moviefinder\\\\src\\\\components\\\\movie\\\\movie-page.tsx\",\n    _s = $RefreshSig$();\n\nimport '../../styles/main.css';\nimport { MDBSpinner } from 'mdb-react-ui-kit';\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getMovieDetails, getCastMembers } from '../../scripts/requests';\nimport WatchProviders from './content/watch-providers';\nimport CastMembers from './content/cast-members';\nimport SimilarMovies from './content/similar-movies';\nimport Videos from './content/videos';\nimport Reviews from './content/reviews';\nimport MovieKeywords from './content/movie-keywords';\nimport MovieDetails from './content/movie-details';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MoviePage = () => {\n  _s();\n\n  const [movie, setMovie] = useState(null);\n  const [castMembers, setCastMembers] = useState(null);\n  const {\n    movieID\n  } = useParams();\n\n  const isNumber = str => {\n    if (typeof str !== 'string') {\n      return false;\n    }\n\n    if (str.trim() === '') {\n      return false;\n    }\n\n    return !Number.isNaN(Number(str));\n  };\n\n  const getMovieId = () => {\n    if (!movieID || !isNumber(movieID)) {\n      return 0;\n    }\n\n    return parseInt(movieID);\n  };\n\n  useEffect(() => {\n    const mId = getMovieId();\n\n    if (mId > 0) {\n      const fetchMovieDetails = async () => {\n        setMovie(await getMovieDetails(mId));\n      };\n\n      const fetchMovieCast = async () => {\n        setCastMembers(await getCastMembers(mId));\n      };\n\n      fetchMovieDetails();\n      fetchMovieCast();\n    }\n  }, [movieID]);\n  useEffect(() => {\n    // Garante que vai mostrar a parte de cima da página\n    window.scrollTo(0, 0);\n  }, []);\n\n  const formatDateStr = date => {\n    let datePart = date.match(/\\d+/g);\n    let year = '';\n    let month = '';\n    let day = '';\n\n    if (datePart) {\n      year = datePart[0];\n      month = datePart[1];\n      day = datePart[2];\n    }\n\n    return day + '/' + month + '/' + year;\n  };\n\n  const priceSplitter = number => number && number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n\n  let languageNames = new Intl.DisplayNames(['pt-BR'], {\n    type: 'language'\n  });\n\n  const convertMinutes = totalMinutes => {\n    const hours = Math.floor(totalMinutes / 60);\n    const minutes = totalMinutes % 60;\n\n    if (hours === 0) {\n      return `${minutes}m`;\n    }\n\n    return `${hours}h e ${minutes}m`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-image\",\n        children: movie && movie.backdrop_path && /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"fullscreenImage\",\n          src: `https://image.tmdb.org/t/p/original${movie.backdrop_path}`,\n          alt: \"plano de fundo\",\n          style: {\n            filter: 'brightness(0.2)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content moviepage\",\n        style: {\n          /*backgroundColor: 'rgba(0, 0, 0, 0.75)',*/\n          zIndex: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-white\",\n          children: movie && !movie.adult && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white m-4\",\n            children: [/*#__PURE__*/_jsxDEV(MovieDetails, {\n              movie: movie,\n              castMembers: castMembers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(WatchProviders, {\n              movieId: getMovieId()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(CastMembers, {\n              castMembers: castMembers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(SimilarMovies, {\n              movieId: getMovieId()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Videos, {\n              movieId: getMovieId()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Reviews, {\n              movieId: getMovieId()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(MovieKeywords, {\n              movieId: getMovieId()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), movie === null && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"centralizar text-white mt-5 pt-5\",\n          children: /*#__PURE__*/_jsxDEV(MDBSpinner, {\n            role: \"status\",\n            color: \"white\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Carregando...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }, this), movie === undefined && /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"centralizar text-white mt-5 pt-5\",\n          children: \"404 - Filme n\\xE3o encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(MoviePage, \"lqiX0As0Qc6ffNhlNiTVWAy3PzU=\", false, function () {\n  return [useParams];\n});\n\n_c = MoviePage;\nexport default MoviePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoviePage\");","map":{"version":3,"names":["MDBSpinner","useParams","useEffect","useState","getMovieDetails","getCastMembers","WatchProviders","CastMembers","SimilarMovies","Videos","Reviews","MovieKeywords","MovieDetails","MoviePage","movie","setMovie","castMembers","setCastMembers","movieID","isNumber","str","trim","Number","isNaN","getMovieId","parseInt","mId","fetchMovieDetails","fetchMovieCast","window","scrollTo","formatDateStr","date","datePart","match","year","month","day","priceSplitter","number","toString","replace","languageNames","Intl","DisplayNames","type","convertMinutes","totalMinutes","hours","Math","floor","minutes","backdrop_path","filter","zIndex","adult","undefined"],"sources":["C:/Users/gusta/Desktop/Code/Movie Finder/moviefinder/src/components/movie/movie-page.tsx"],"sourcesContent":["import '../../styles/main.css';\r\nimport {\r\n    MDBContainer,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBBtnGroup,\r\n    MDBBtn,\r\n    MDBAccordion,\r\n    MDBAccordionItem,\r\n    MDBIcon,\r\n    MDBRadio,\r\n    MDBTooltip,\r\n    MDBSpinner,\r\n} from 'mdb-react-ui-kit';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport {\r\n    IMovie,\r\n    getMovieDetails,\r\n    IReview,\r\n    getMovieReviews,\r\n    IKeyword,\r\n    getMovieKeywords,\r\n    ICastMembers,\r\n    getCastMembers,\r\n} from '../../scripts/requests';\r\nimport WatchProviders from './content/watch-providers';\r\nimport CastMembers from './content/cast-members';\r\nimport SimilarMovies from './content/similar-movies';\r\nimport Videos from './content/videos';\r\nimport Reviews from './content/reviews';\r\nimport MovieKeywords from './content/movie-keywords';\r\nimport MovieDetails from './content/movie-details';\r\n\r\nconst MoviePage = () => {\r\n    const [movie, setMovie] = useState<IMovie | null | undefined>(null);\r\n    const [castMembers, setCastMembers] = useState<ICastMembers | null>(null);\r\n    const { movieID } = useParams();\r\n\r\n    const isNumber = (str: string): boolean => {\r\n        if (typeof str !== 'string') {\r\n            return false;\r\n        }\r\n\r\n        if (str.trim() === '') {\r\n            return false;\r\n        }\r\n\r\n        return !Number.isNaN(Number(str));\r\n    };\r\n\r\n    const getMovieId = (): number => {\r\n        if (!movieID || !isNumber(movieID)) {\r\n            return 0;\r\n        }\r\n\r\n        return parseInt(movieID);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const mId = getMovieId();\r\n\r\n        if (mId > 0) {\r\n            const fetchMovieDetails = async () => {\r\n                setMovie(await getMovieDetails(mId));\r\n            };\r\n\r\n            const fetchMovieCast = async () => {\r\n                setCastMembers(await getCastMembers(mId));\r\n            };\r\n\r\n            fetchMovieDetails();\r\n            fetchMovieCast();\r\n        }\r\n    }, [movieID]);\r\n\r\n    useEffect(() => {\r\n        // Garante que vai mostrar a parte de cima da página\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    const formatDateStr = (date: string) => {\r\n        let datePart: RegExpMatchArray | null = date.match(/\\d+/g);\r\n        let year = '';\r\n        let month = '';\r\n        let day = '';\r\n\r\n        if (datePart) {\r\n            year = datePart[0];\r\n            month = datePart[1];\r\n            day = datePart[2];\r\n        }\r\n\r\n        return day + '/' + month + '/' + year;\r\n    };\r\n\r\n    const priceSplitter = (number: number) =>\r\n        number && number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\r\n\r\n    let languageNames = new Intl.DisplayNames(['pt-BR'], { type: 'language' });\r\n\r\n    const convertMinutes = (totalMinutes: number): string => {\r\n        const hours = Math.floor(totalMinutes / 60);\r\n        const minutes = totalMinutes % 60;\r\n\r\n        if (hours === 0) {\r\n            return `${minutes}m`;\r\n        }\r\n\r\n        return `${hours}h e ${minutes}m`;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"content-main\">\r\n                <div className=\"bg-image\">\r\n                    {movie && movie.backdrop_path && (\r\n                        <img\r\n                            className=\"fullscreenImage\"\r\n                            src={`https://image.tmdb.org/t/p/original${movie.backdrop_path}`}\r\n                            alt=\"plano de fundo\"\r\n                            style={{\r\n                                filter: 'brightness(0.2)',\r\n                            }}\r\n                        />\r\n                    )}\r\n                </div>\r\n                <div\r\n                    className=\"content moviepage\"\r\n                    style={{\r\n                        /*backgroundColor: 'rgba(0, 0, 0, 0.75)',*/\r\n                        zIndex: 10,\r\n                    }}\r\n                >\r\n                    <div className=\"text-white\">\r\n                        {movie && !movie.adult && (\r\n                            <div className=\"text-white m-4\">\r\n                                <MovieDetails\r\n                                    movie={movie}\r\n                                    castMembers={castMembers}\r\n                                ></MovieDetails>\r\n                                <WatchProviders\r\n                                    movieId={getMovieId()}\r\n                                ></WatchProviders>\r\n                                <CastMembers\r\n                                    castMembers={castMembers}\r\n                                ></CastMembers>\r\n                                <SimilarMovies\r\n                                    movieId={getMovieId()}\r\n                                ></SimilarMovies>\r\n                                <Videos movieId={getMovieId()}></Videos>\r\n                                <Reviews movieId={getMovieId()}></Reviews>\r\n                                <MovieKeywords\r\n                                    movieId={getMovieId()}\r\n                                ></MovieKeywords>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {movie === null && (\r\n                        <div className=\"centralizar text-white mt-5 pt-5\">\r\n                            <MDBSpinner role=\"status\" color=\"white\">\r\n                                <span className=\"visually-hidden\">\r\n                                    Carregando...\r\n                                </span>\r\n                            </MDBSpinner>\r\n                        </div>\r\n                    )}\r\n                    {movie === undefined && (\r\n                        <h3 className=\"centralizar text-white mt-5 pt-5\">\r\n                            404 - Filme não encontrado\r\n                        </h3>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MoviePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}